<% layout('layout') %>
<!-- Extends layout.ejs -->
<h1>Dashboard</h1>
<div class="row">
  <div class="col-md-3">
    <div class="card">
      <div class="card-body">
        <h5>Total Users</h5>
        <p><%= stats.totalUsers %></p>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card">
      <div class="card-body">
        <h5>Total Members</h5>
        <p><%= stats.totalMembers %></p>
      </div>
    </div>
  </div>
  <!-- Add more cards for totalCheckins, activeMemberships -->
</div>
<!-- Add a form for quick actions, e.g., check-in -->
<form id="checkinForm" class="mt-4">
  <input type="email" id="email" placeholder="User Email" required />
  <button type="submit" class="btn btn-primary">Check In</button>
</form>
<script>
  // Client-side JS for AJAX (see below)
  document
    .getElementById("checkinForm")
    .addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value;
      const response = await fetch("/api/checkins", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email }),
      });
      const result = await response.json();
      alert(result.message); // Show success/error
    });
</script>
